import{e as N,H as S,d as m,s as b,f as R,b as A,g as y,i as H,j as q,k as D,l as I,h as E,m as M,P}from"./disclose-version.CfGNboRe.js";import{t as Y,q as j,i as B,j as C,k as V,l as W,m as $,n as z,p as F,o as G,h as J,c as K}from"./runtime.DZmSjpD9.js";const Q=new Set,k=new Set;function U(e,r,n,o){function a(t){if(o.capture||g.call(r,t),!t.cancelBubble)return n.call(this,t)}return e.startsWith("pointer")||e==="wheel"?j(()=>{r.addEventListener(e,a,o)}):r.addEventListener(e,a,o),a}function rr(e,r,n,o,a){var t={capture:o,passive:a},u=U(e,r,n,t);(r===document.body||r===window||r===document)&&Y(()=>{r.removeEventListener(e,u,t)})}function g(e){var L;var r=this,n=r.ownerDocument,o=e.type,a=((L=e.composedPath)==null?void 0:L.call(e))||[],t=a[0]||e.target,u=0,c=e.__root;if(c){var f=a.indexOf(c);if(f!==-1&&(r===document||r===window)){e.__root=r;return}var l=a.indexOf(r);if(l===-1)return;f<=l&&(u=f)}if(t=a[u]||e.target,t!==r){B(e,"currentTarget",{configurable:!0,get(){return t||n}});try{for(var _,s=[];t!==null;){var d=t.parentNode||t.host||null;try{var i=t["__"+o];if(i!==void 0&&!t.disabled)if(C(i)){var[p,...v]=i;p.apply(t,[e,...v])}else i.call(t,e)}catch(w){_?s.push(w):_=w}if(e.cancelBubble||d===r||d===null)break;t=d}if(_){for(let w of s)queueMicrotask(()=>{throw w});throw _}}finally{e.__root=r,t=r}}}function er(e,r){(e.__t??(e.__t=e.nodeValue))!==r&&(e.nodeValue=e.__t=r)}function X(e,r){const n=r.anchor??r.target.appendChild(N());return O(e,{...r,anchor:n})}function tr(e,r){r.intro=r.intro??!1;const n=r.target,o=E,a=y;try{for(var t=n.firstChild;t&&(t.nodeType!==8||t.data!==S);)t=t.nextSibling;if(!t)throw m;b(!0),R(t),A();const u=O(e,{...r,anchor:t});if(y===null||y.nodeType!==8||y.data!==H)throw q(),m;return b(!1),u}catch(u){if(u===m)return r.recover===!1&&V(),D(),I(n),b(!1),X(e,r);throw u}finally{b(o),R(a)}}const h=new Map;function O(e,{target:r,anchor:n,props:o={},events:a,context:t,intro:u=!0}){D();var c=new Set,f=s=>{for(var d=0;d<s.length;d++){var i=s[d];if(!c.has(i)){c.add(i);var p=P.includes(i);r.addEventListener(i,g,{passive:p});var v=h.get(i);v===void 0?(document.addEventListener(i,g,{passive:p}),h.set(i,1)):h.set(i,v+1)}}};f(W(Q)),k.add(f);var l=void 0,_=$(()=>(z(()=>{if(t){F({});var s=K;s.c=t}a&&(o.$$events=a),E&&M(n,null),l=e(n,o)||{},E&&(G.nodes.end=y),t&&J()}),()=>{for(var s of c){r.removeEventListener(s,g);var d=h.get(s);--d===0?(document.removeEventListener(s,g),h.delete(s)):h.set(s,d)}k.delete(f),T.delete(l)}));return T.set(l,_),l}let T=new WeakMap;function ar(e){const r=T.get(e);r==null||r()}export{rr as e,tr as h,X as m,er as s,ar as u};
